---
interface FooterColumn {
  title: string;
  links: { label: string; href: string }[];
}

interface Props {
  variant?: 'default' | 'minimal';
  logo?: {
    icon: string;
    text: string;
  };
  tagline?: string;
  columns?: FooterColumn[];
  copyright?: string;
  madeWith?: string;
  backToTopHref?: string;
}

const {
  variant = 'default',
  logo = { icon: '</>', text: 'alex.dev' },
  tagline = 'Building digital experiences with code and creativity.',
  columns = [
    {
      title: 'Navigation',
      links: [
        { label: 'About', href: '#about' },
        { label: 'Projects', href: '#projects' },
        { label: 'Experience', href: '#experience' },
        { label: 'Blog', href: '#blog' },
        { label: 'Contact', href: '#contact' },
      ],
    },
    {
      title: 'Social',
      links: [
        { label: 'GitHub', href: 'https://github.com' },
        { label: 'LinkedIn', href: 'https://linkedin.com' },
        { label: 'Twitter', href: 'https://twitter.com' },
      ],
    },
  ],
  copyright = '© 2024 Alex Rodriguez. All rights reserved.',
  madeWith = 'Made with ♥ and lots of ☕',
  backToTopHref,
} = Astro.props;

const isMinimal = variant === 'minimal';
---

<footer class:list={['footer', { 'footer--minimal': isMinimal }]}>
  <div class="footer__container">
    <div class="footer__divider"></div>

    {!isMinimal && (
      <div class="footer__content">
        <div class="footer__brand">
          <a href="/" class="footer__logo">
            <span class="footer__logo-icon">{logo.icon}</span>
            <span class="footer__logo-text">{logo.text}</span>
          </a>
          <p class="footer__tagline">{tagline}</p>
        </div>

        <div class="footer__links">
          {columns.map((column) => (
            <div class="footer__column">
              <h3 class="footer__column-title">{column.title}</h3>
              <ul class="footer__column-links">
                {column.links.map((link) => (
                  <li>
                    <a href={link.href} class="footer__link">{link.label}</a>
                  </li>
                ))}
              </ul>
            </div>
          ))}
        </div>
      </div>
    )}

    {isMinimal && (
      <a href="/" class="footer__logo footer__logo--minimal">
        <span class="footer__logo-icon">{logo.icon}</span>
        <span class="footer__logo-text">{logo.text}</span>
      </a>
    )}

    <div class="footer__bottom">
      <p class="footer__copyright">{copyright}</p>
      {isMinimal && backToTopHref ? (
        <a href={backToTopHref} class="footer__back-to-top">↑ Back to top</a>
      ) : (
        <p class="footer__made-with" set:html={madeWith.replace('♥', '<span class="heart">♥</span>')} />
      )}
    </div>
  </div>
</footer>

<style>
  .footer {
    background-color: var(--color-bg-primary);
    padding: var(--space-16) var(--space-20);
  }

  .footer--minimal {
    padding: var(--space-12) var(--space-20);
  }

  .footer__container {
    max-width: 1440px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--space-10);
  }

  .footer--minimal .footer__container {
    gap: var(--space-10);
  }

  .footer__divider {
    height: 1px;
    background-color: var(--color-surface);
    width: 100%;
  }

  .footer__content {
    display: flex;
    justify-content: space-between;
    gap: var(--space-16);
  }

  .footer__brand {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    max-width: 280px;
  }

  .footer__logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
  }

  .footer__logo-icon {
    font-family: var(--font-mono);
    font-size: 1.25rem;
    font-weight: var(--font-bold);
    color: var(--color-primary);
  }

  .footer__logo-text {
    font-family: var(--font-mono);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
  }

  .footer__tagline {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    line-height: var(--leading-normal);
  }

  .footer__links {
    display: flex;
    gap: var(--space-20);
  }

  .footer__column {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .footer__column-title {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    color: var(--color-text-muted);
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  .footer__column-links {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    list-style: none;
  }

  .footer__link {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: var(--transition-fast);
  }

  .footer__link:hover {
    color: var(--color-primary);
  }

  .footer__bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer__copyright,
  .footer__made-with {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-text-disabled);
  }

  .footer__made-with :global(.heart) {
    color: var(--color-error);
  }

  .footer__back-to-top {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    font-weight: var(--font-medium);
    color: var(--color-primary);
    text-decoration: none;
    transition: var(--transition-fast);
  }

  .footer__back-to-top:hover {
    color: var(--color-text-primary);
  }

  .footer__logo--minimal {
    display: none;
  }

  @media (max-width: 1024px) {
    .footer,
    .footer--minimal {
      padding: var(--space-12) var(--space-6);
    }
  }

  @media (max-width: 768px) {
    .footer,
    .footer--minimal {
      padding: var(--space-10) var(--space-5);
    }

    .footer__container {
      gap: var(--space-8);
      align-items: center;
    }

    .footer__content {
      flex-direction: column;
      align-items: center;
      gap: var(--space-8);
    }

    .footer__brand {
      max-width: none;
      align-items: center;
      text-align: center;
      gap: var(--space-3);
    }

    .footer__logo {
      gap: var(--space-2);
    }

    .footer__logo-icon {
      font-size: var(--text-lg);
    }

    .footer__logo-text {
      font-size: var(--text-sm);
    }

    .footer__tagline {
      font-size: 0.8125rem;
    }

    .footer__links {
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: center;
      gap: var(--space-6);
    }

    .footer__column {
      display: none;
    }

    .footer__links::after {
      content: none;
    }

    .footer__bottom {
      flex-direction: column;
      gap: var(--space-2);
      text-align: center;
    }

    .footer--minimal .footer__container {
      gap: var(--space-4);
    }

    .footer--minimal .footer__logo--minimal {
      display: flex;
      justify-content: center;
    }

    .footer--minimal .footer__logo-icon {
      font-size: 16px;
    }

    .footer--minimal .footer__logo-text {
      font-size: 14px;
    }

    .footer--minimal .footer__bottom {
      flex-direction: column;
      width: 100%;
    }

    .footer--minimal .footer__back-to-top {
      display: none;
    }

    .footer__copyright,
    .footer__made-with,
    .footer__back-to-top {
      font-size: 11px;
    }
  }
</style>
